$(function(){var e=$(".adr-text-area"),t=$(".dl-province");$panel=$(".adr-select-area");var a={selectData:{pro:"",city:"",area:"",street:""},initRender:function(){var e,a="";addressConfig.street&&($(".adr-itms-street").removeClass("hide"),$(".adr-tt-street").removeClass("hide"));for(var r in province){a+="<dt class='dt-adr'>"+r+"</dt><dd class='dd-adr'>",e=province[r];for(var s=0;s<e.length;s++)a+="<span class='adr-itm adr-pro' data-code='"+e[s][0]+"'>"+e[s][1][0]+"</span>";a+="</dd>"}t.html(a)},getNextKey:function(e){var t,a=0;for(var r in this.selectData){if(1==a){t=r;break}r==e&&a++}return t},proxyGetNextKey:function(e,t){return this.getNextKey(hooks[e]?this.getNextKey(t):t)},receiveRefresh:function(){var t="";for(var a in this.selectData)this.selectData[a]&&(t+=this.selectData[a]+"<strong class='st-sep'>/</strong>");e.html(t)},resetInitData:function(e){var t=!1;for(var a in this.selectData)a==e&&(t=!0),t&&(this.selectData[a]="",$(".adr-itms-"+a).empty())},getNextFloor:function(e,t){for(var a,r=0,s="",i=0;i<cities.length;i++){var d=cities[i];a=r,d.parent_code==e?(r=1,s+="<span class='adr-itm adr-"+t+"' data-code='"+d.code+"'>"+d.name+"</span>"):r=0}$(".adr-itms-"+t).html(s),("street"!=t||addressConfig.street)&&$(".adr-tt-"+t).trigger("click")}};$(".address-link").on("click",".li-tab-tt,.adr-input-area,.adr-itm",function(e){var t=$(this);e.stopPropagation(),t.hasClass("li-tab-tt")&&function(){var e=t.index();t.siblings().removeClass("active"),t.addClass("active").parent().next().children().removeClass("active").eq(e).addClass("active")}(),t.hasClass("adr-input-area")&&function(){$panel.toggleClass("hide")}(),t.hasClass("adr-itm")&&function(){t.parents(".li-tab-bd").find(".adr-itm").removeClass("checked"),t.addClass("checked");var e=t.attr("class").match(/adr-(\w+)/g)[1].replace(/adr-/,""),r=t.data("code");a.selectData[e]=t.text();var s=a.proxyGetNextKey(r,e);a.resetInitData(a.getNextKey(e)),a.receiveRefresh(),a.getNextFloor(r,s),"area"==e&&addressConfig.getTargetAddress(r)}(),$(document).on("click",function(){$panel.addClass("hide")})}),a.initRender()});
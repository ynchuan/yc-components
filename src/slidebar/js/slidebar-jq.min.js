!function(){$.fn.slide=function(r){opt=$.extend({callback:null,inita:.3,initb:.7,target:$(".slidebar")},r);var e=new t(opt);e.init()};var t=function(t){this.target=t.target,this.l_bar=this.target.find(".slidebar-left"),this.r_bar=this.target.find(".slidebar-right"),this.m_bar=this.target.find(".slidebar-range"),this.tip_bar=this.target.find(".slidebar-tip"),this.l_bar_p=t.inita,this.r_bar_p=t.initb,this.width=t.target.width(),this.wbanner=this.l_bar.width(),this.callback=t.callback,this.moveflag=!1,this.perPlex=this.target.find(".slideage").outerWidth()/10};t.prototype={init:function(){this.renderDom(),this.addSlideListener(),this.addSlideClickListener()},addSlideListener:function(){var t=this;this.l_bar.on("mousedown",function(r){t.moveflag=!0,t.x=r.clientX,t.currtar=t.l_bar,t.left=parseInt(t.currtar.css("left")),t.mleft=parseInt(t.m_bar.css("left")),t.lleft=parseInt(t.l_bar.css("left")),t.rleft=parseInt(t.r_bar.css("left"))}),this.r_bar.on("mousedown",function(r){t.moveflag=!0,t.x=r.clientX,t.currtar=t.r_bar,t.left=parseInt(t.currtar.css("left")),t.mleft=parseInt(t.m_bar.css("left")),t.lleft=parseInt(t.l_bar.css("left")),t.rleft=parseInt(t.r_bar.css("left"))}),$(document).on("mousemove",function(r){if(t.moveflag){var e,a=r.clientX-t.x,i=t.left,s=(t.mleft,t.lleft),n=t.rleft,l=i+a;t.currtar==t.l_bar?(l=0>l?0:l>n-t.wbanner?n-t.wbanner:l,t.l_bar.css("left",l+"px"),t.m_bar.css("left",l+"px"),t.m_bar.css("width",n-l+t.wbanner+"px"),e=l+(n-l+t.wbanner)/2):t.currtar==t.r_bar&&(l=l<s+t.wbanner?s+t.wbanner:l>t.width-t.wbanner?t.width-t.wbanner:l,t.r_bar.css("left",l+"px"),t.m_bar.css("width",l-s+t.wbanner+"px"),e=t.lleft+(l-s+t.wbanner)/2),t.getValue(e),r.preventDefault()}}),$(document).on("mouseup",function(r){t.moveflag=!1,t.currtar=null,r.preventDefault()})},addSlideClickListener:function(){var t=this;this.target.find(".slidebar-emulate").on("click",function(r){var e,a=t.l_bar.offset().left,i=t.r_bar.offset().left;if(t.lleft=parseInt(t.l_bar.css("left")),t.rleft=parseInt(t.r_bar.css("left")),r.clientX>=i+t.wbanner){var s=t.rleft+r.clientX-i,n=t.lleft;s=s<n+t.wbanner?n+t.wbanner:s>t.width-t.wbanner?t.width-t.wbanner:s,t.r_bar.css("left",s+"px"),t.m_bar.css("width",s-n+t.wbanner+"px"),e=t.lleft+(s-n+t.wbanner)/2,t.getValue(e)}else if(r.clientX<=a){var s=t.lleft+r.clientX-a,l=t.rleft;s=0>s?0:s>l-t.wbanner?l-t.wbanner:s,t.l_bar.css("left",s+"px"),t.m_bar.css("left",s+"px"),t.m_bar.css("width",l-s+t.wbanner+"px"),e=s+(l-s+t.wbanner)/2,t.getValue(e)}})},renderDom:function(){var t=(this.r_bar_p-this.l_bar_p)*this.width+this.wbanner;this.l_bar.css("left",this.l_bar_p*this.width+"px"),this.r_bar.css("left",this.r_bar_p*this.width+"px"),this.m_bar.css("left",this.l_bar_p*this.width+"px").css("width",t),this.tip_bar.css("left",this.l_bar_p*this.width+t-this.tip_bar.width/2+"px")},getValue:function(t){var r=this.m_bar.position(),e=Math.round(r.left/this.perPlex),a=Math.round((r.left+this.m_bar.width())/this.perPlex);this.tip_bar.css("left",t-this.tip_bar.width()/2+"px").show().html(e+"-"+a+"Â≤Å<div class='down-arrow'></div>"),this.callback&&this.callback(e,a)}}}();
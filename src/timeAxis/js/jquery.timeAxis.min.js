!function(t){t.fn.timeAxis=function(a){var i=t.extend({},a),s=new e(i,this);s.init()};var e=function(t,e){this.data=t.data,this.$dom=e};e.prototype.sort=function(){for(var t=this.data,e=t.length,a=0;e-1>a;a++)for(var i=Date.parse(t[a].date),s=e-1;s>a;s--){var n=Date.parse(t[s].date);if(n>i){var l=t[s];t[s]=t[a],t[a]=l,i=Date.parse(t[a].date)}}},e.prototype.render=function(){for(var t,e,a=this.data,i='<div class="time-axis" >',s=0;s<a.length;s++){var n=a[s].date.split("-");(!t||t&&t!==n[0])&&(i+='<div class="tli tl-year"> <span class = "time" > '+n[0]+' 年 - </span> <span class = "icon" > </span> <div class="toast"><i class="triangle-left"></i>'+a[s].event+"</div></div>"),(!e||e&&e!==n[1]||t!=n[0]&&e==n[1])&&(i+='<div class="tli tl-month"> <span class = "time" > '+n[1]+' 月 <i class = "triangle-down" > </i></span > <span class = "icon" > </span> <div class="toast"><i class="triangle-left"></i>'+a[s].event+"</div></div > "),t=n[0],e=n[1],i+='<div class="tli tl-day"> <span class = "time" > '+n[1]+n[2]+' &#183;</span> <span class = "icon" > </span><div class="toast"><i class="triangle-left"></i>'+a[s].event+"</div> </div > "}return i+='<div class="time-line"></div></div>'},e.prototype.listerner=function(){this.$dom.on("click",".time-axis .tl-month .time",function(){var e=t(this).parent(".tli");e.nextUntil(e.nextAll(".tl-month,.tl-year").eq(0)).toggle("slow"),t(this).find(".triangle-down").toggleClass("rote180")})},e.prototype.init=function(){this.sort(),this.$dom.html(this.render()),this.listerner()}}(jQuery);var data=[{date:"2014-05-02",event:"今2014-05-02，你好今天！"},{date:"2015-09-03",event:"昨天2015-09-03，你好昨天！"},{date:"2015-03-04",event:"前天2015-03-04，你好前天！"},{date:"2013-02-05",event:"今天2013-02-05，你好今天！"},{date:"2014-01-04",event:"前天2014-01-04，你好前天！"},{date:"2013-03-10",event:"今天2013-03-10，你好今天！"},{date:"2014-07-08",event:"前天2014-07-08，你好前天！"},{date:"2015-09-05",event:"今天2015-03-05，你好今天！"}];
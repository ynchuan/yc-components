!function(t){function e(e){this.target=e,this.domarea=e.find(".scroll-emulate-area"),this.refdom=this.domarea.parent(),this.domscrollbar=e.find(".scroll-bg"),this.domslotbar=e.find(".scroll-bar"),this.areaPerWheelPlex=70,this.addEventFlag=!1,this.mouseWheelEvent=function(e){return function(o){o=o?o:t.event,o.delta=o.originalEvent.wheelDelta?o.originalEvent.wheelDelta/120:-(o.detail||0)/3;var i=o.delta*e.areaPerWheelPlex,r=o.delta*e.barPerWheelPlex;e.scrollArea(i),e.scrollBar(-r),o.preventDefault()}}(this)}var o;t.Scroll=e,e.getSingleInstance=function(t){return o||(o=new e(t))},e.prototype.init=function(){return this.render(),this.maxAreaHeight=this.domarea.height()-this.refdom.height(),this.maxtop=this.domslotbar.height()-this.domscrollbar.height(),this.barPerWheelPlex=Math.ceil(this.maxtop/Math.ceil(this.maxAreaHeight/this.areaPerWheelPlex)),this.mouseWheelOff(),this.maxAreaHeight<0?(this.domscrollbar.hide(),this.domslotbar.hide()):(this.domscrollbar.show(),this.domslotbar.show(),this.mouseWheelListen(),this.addEventFlag||(this.dragBarListen(),this.slotClickListen(),this.addEventFlag=!0)),this},e.prototype.render=function(){this.domscrollbar.css("top","0px"),this.domarea.css("margin-top","0px")},e.prototype.dragBarListen=function(){function t(t){this.depe=t,this.tar=t.domscrollbar,this.dragflag=!1,this.x,this.y,this.ox,this.oy,this.top,this.maxtop=t.maxtop}t.prototype.startDragListen=function(){var t=this;this.tar.on("mousedown",function(e){t.dragflag=!0,t.x=e.clientX,t.y=e.clientY,t.oy=t.y,e.stopPropagation()})},t.prototype.dragingListen=function(){var t=this;$(document).on("mousemove",function(e){if(t.dragflag){var o=e.clientY-t.oy;t.depe.scrollBar(o),t.oy=e.clientY,t.depe.dragScrollArea(-o)}})},t.prototype.endDragListen=function(){var t=this;$(document).on("mouseup",function(){t.dragflag=!1})},t.prototype.initDrag=function(){this.startDragListen(),this.dragingListen(),this.endDragListen()},new t(this).initDrag()},e.prototype.mouseWheelListen=function(){this.target.on("mousewheel",this.mouseWheelEvent)},e.prototype.mouseWheelOff=function(){this.target.off("mousewheel",this.mouseWheelEvent)},e.prototype.slotClickListen=function(){var e=this;this.domslotbar.on("mousedown",function(o){var i=o||t.event,r=e.domscrollbar.offset(),s=i.clientY-r.top-e.domscrollbar.height()/2;e.scrollBar(s),e.dragScrollArea(-s),o.stopPropagation()})},e.prototype.scrollBar=function(t){var e=parseInt(this.domscrollbar.css("top"))+t;0>e?e=0:e>this.maxtop&&(e=this.maxtop),this.domscrollbar.css("top",e+"px")},e.prototype.scrollArea=function(t){var e=parseInt(this.domarea.css("margin-top"))+t;e>0?e=0:e<-this.maxAreaHeight&&(e=-this.maxAreaHeight),this.domarea.css("margin-top",e+"px")},e.prototype.dragScrollArea=function(t){t=Math.round(t*(this.maxAreaHeight/this.maxtop)),this.scrollArea(t)}}(window);